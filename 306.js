"use strict";(self.webpackChunkPokeTool=self.webpackChunkPokeTool||[]).push([[306],{4306:(R,f,s)=>{s.r(f),s.d(f,{ItemModule:()=>N});var m=s(9808),g=s(8555),b=s(655),d=s(1474),e=s(5e3),p=s(5750),Z=s(4015),h=s(1824),v=s(9224),c=s(7322),C=s(4107),l=s(3075),_=s(508),M=s(7423);function S(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"h3",8),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.item.name)}}function y(n,o){if(1&n&&e._UZ(0,"img",9),2&n){const t=e.oxw();e.Q6J("src",t.sprite,e.LSH)}}let A=(()=>{class n{constructor(t){this.itemService=t}ngOnInit(){this.loadSprite()}setCurrentSprite(t){this.sprite=t}ngOnChanges(t){t&&t.item&&this.loadSprite()}loadSprite(){this.sprite=this.itemService.loadSprite(this.item.uid,!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item-card"]],inputs:{item:"item"},features:[e.TTD],decls:11,vars:2,consts:[[1,"mb-3"],[1,"d-inline-flex","justify-content-center","w-100"],["class","poke-border-sm bg-gray p-3 mb-3",4,"ngIf"],[1,"poke-sprite-circle","d-inline-flex","justify-content-center","w-100","mb-3"],["width","100%","height","auto",3,"src",4,"ngIf"],["mat-flat-button","","color","accent","disabled","",1,"w-100","mb-2"],["mat-flat-button","","color","accent","disabled","",1,"w-100"],[1,"poke-border-sm","bg-gray","p-3","mb-3"],[1,"mb-0","font-p2"],["width","100%","height","auto",3,"src"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1),e.YNc(2,S,3,1,"div",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,y,1,1,"img",4),e.qZA(),e.TgZ(5,"button",5),e._uU(6,"Change Name"),e.qZA(),e.TgZ(7,"button",5),e._uU(8,"Item Sprite"),e.qZA(),e.TgZ(9,"button",6),e._uU(10,"Editor Settings"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",a.item),e.xp6(2),e.Q6J("ngIf",a.sprite))},directives:[v.a8,m.O5,M.lW],styles:[".poke-sprite-circle[_ngcontent-%COMP%]{border-radius:50%;background-color:#eaf5ff}.poke-sprite-small[_ngcontent-%COMP%]{background-color:#f7f5c580;display:inline-flex;justify-content:center;align-items:center}.poke-sprite-circle-big[_ngcontent-%COMP%]{border-radius:50%;background-color:#fffeeb80;position:absolute;height:100%;left:0;right:0;bottom:0;margin-left:auto;margin-right:auto}.poke-sprite-small[_ngcontent-%COMP%]:hover{cursor:pointer;border:2px solid #349dff}.poke-sprite-active[_ngcontent-%COMP%]{cursor:pointer;background-color:#eaf5ff;border:2px solid #349dff;border-radius:8px}#monster-data[_ngcontent-%COMP%]{height:100%;position:relative}.monster-background[_ngcontent-%COMP%]{position:absolute;image-rendering:pixelated;opacity:.35;width:auto;height:100%;left:0;right:0;bottom:0;margin-left:auto;margin-right:auto}"]}),n})();var T=s(3251),q=s(7531);function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-select",5),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().item.pocket=i})("ngModelChange",function(){return e.CHM(t),e.oxw().baseItemDataChanged()}),e.TgZ(1,"mat-option",10),e._uU(2,"None"),e.qZA(),e.TgZ(3,"mat-option",10),e._uU(4,"Items"),e.qZA(),e.TgZ(5,"mat-option",10),e._uU(6,"Key Items"),e.qZA(),e.TgZ(7,"mat-option",10),e._uU(8,"Pok\xe9 Balls"),e.qZA(),e.TgZ(9,"mat-option",10),e._uU(10,"TM Case"),e.qZA(),e.TgZ(11,"mat-option",10),e._uU(12,"Berry Pouch"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.item.pocket),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(2),e.Q6J("value",4),e.xp6(2),e.Q6J("value",5)}}function U(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-select",5),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().item.pocket=i})("ngModelChange",function(){return e.CHM(t),e.oxw().baseItemDataChanged()}),e.TgZ(1,"mat-option",10),e._uU(2,"None"),e.qZA(),e.TgZ(3,"mat-option",10),e._uU(4,"Items"),e.qZA(),e.TgZ(5,"mat-option",10),e._uU(6,"Pok\xe9 Balls"),e.qZA(),e.TgZ(7,"mat-option",10),e._uU(8,"TMs and HMs"),e.qZA(),e.TgZ(9,"mat-option",10),e._uU(10,"Berries"),e.qZA(),e.TgZ(11,"mat-option",10),e._uU(12,"Key Items"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.item.pocket),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(2),e.Q6J("value",4),e.xp6(2),e.Q6J("value",5)}}function w(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.effect)}}let x=(()=>{class n{constructor(t,a,i){this.itemService=t,this.gbaService=a,this.characterSetService=i,this.itemDescription="",this.gameCode="",this.itemUpdated=new e.vpe,this.holdEffects=[{value:0,effect:"None"},{value:1,effect:"Heal HP [used] [param required]"},{value:2,effect:"Cure Paralysis [used]"},{value:3,effect:"Cure Sleep [used]"},{value:4,effect:"Cure Poison [used]"},{value:5,effect:"Cure Burn [used]"},{value:6,effect:"Cure Freeze [used]"},{value:7,effect:"Heal PP [used] [param required]"},{value:8,effect:"Cure Confusion [used]"},{value:9,effect:"Cure All Status Effects [used]"},{value:10,effect:"Heal HP [used] [may confuse] [param required]"},{value:11,effect:"Heal HP [used] [may confuse] [param required]"},{value:12,effect:"Heal HP [used] [may confuse] [param required]"},{value:13,effect:"Heal HP [used] [may confuse] [param required]"},{value:14,effect:"Heal HP [used] [may confuse] [param required]"},{value:15,effect:"Raises ATTACK in a pinch [used] [param required]"},{value:16,effect:"Raises DEFENSE in a pinch [used] [param required]"},{value:17,effect:"Raises SPEED in a pinch [used] [param required]"},{value:18,effect:"Raises SP. ATK in a pinch [used] [param required]"},{value:19,effect:"Raises SP. DEF in a pinch [used] [param required]"},{value:20,effect:"Raises Critical-hit Ratio in a pinch [used] [param required]"},{value:21,effect:"Raises one stat in a pinch [used] [param required]"},{value:22,effect:"Lowers Opponents Accuracy [param required]"},{value:23,effect:"Restores any lowered stat [used]"},{value:24,effect:"Promotes strong growth but lowers SPEED while it is held"},{value:25,effect:"The holder gets a share of EXP. points without having to battle"},{value:26,effect:"The holder may be able to strike first [param required]"},{value:27,effect:"Promotes friendly growth"},{value:28,effect:"Cures Infatuation [used]"},{value:29,effect:"Powers up one move, which becomes the only usable one"},{value:30,effect:"It may cause the foe to flinch upon taking damage [param required]"},{value:31,effect:"Boosts the power of BUG-type moves [param required]"},{value:32,effect:"Doubles the battle money if the holding POK\xe9MON takes part [param required]"},{value:33,effect:"Repels wild POK\xe9MON if the holder is first in the party"},{value:34,effect:"Raises the SP. ATK and SP. DEF stats [LATIOSLATIAS only]"},{value:35,effect:"Raises the SP. ATK stat"},{value:36,effect:"Raises the SP. DEF stat"},{value:37,effect:"Holding POK\xe9MON can flee from any wild POK\xe9MON"},{value:38,effect:"The holding POK\xe9MON is prevented from evolving"},{value:39,effect:"Holding POK\xe9MON may endure an attack, leaving just 1 HP [param required]"},{value:40,effect:"Extra EXP. points in battle"},{value:41,effect:"Boosts the critical-hit ratio of the holding POK\xe9MON"},{value:42,effect:"Boosts the power of STEEL-type moves [param required]"},{value:43,effect:"Heals HP after every turn in battle [param required]"},{value:44,effect:"DRAGON SCALE effect [param required]"},{value:45,effect:"Doubles SP. ATK, may paralize opponents [PIKACHU only]"},{value:46,effect:"Boosts the power of GROUND-type moves [param required]"},{value:47,effect:"Boosts the power of ROCK-type moves [param required]"},{value:48,effect:"Boosts the power of GRASS-type moves [param required]"},{value:49,effect:"Boosts the power of DARK-type moves [param required]"},{value:50,effect:"Boosts the power of FIGHTING-type moves [param required]"},{value:51,effect:"Boosts the power of ELECTRIC-type moves [param required]"},{value:52,effect:"Boosts the power of WATER-type moves [param required]"},{value:53,effect:"Boosts the power of FLYING-type moves [param required]"},{value:54,effect:"Boosts the power of POISON-type moves [param required]"},{value:55,effect:"Boosts the power of ICE-type moves [param required]"},{value:56,effect:"Boosts the power of GHOST-type moves [param required]"},{value:57,effect:"Boosts the power of PSYCHIC-type moves [param required]"},{value:58,effect:"Boosts the power of FIRE-type moves [param required]"},{value:59,effect:"Boosts the power of DRAGON-type moves [param required]"},{value:60,effect:"Boosts the power of GHOST-type moves [param required]"},{value:61,effect:"UP-GRADE effect"},{value:62,effect:"Heals HP after hitting an opponent in battle [param required]"},{value:63,effect:"Raises Critical-Hit Ratio [CHANSEY only]"},{value:64,effect:"Raises DEFENSE [DITTO only]"},{value:65,effect:"It raises the ATTACK stat [CUBONE/MAROWAK only]"},{value:66,effect:"Raises Critical-Hit Ratio [FARFETCH'D only]"}]}ngOnInit(){this.gameCode=this.gbaService.header.gameCode}ngOnChanges(t){t&&t.item&&(this.itemDescription=t.item.currentValue.description)}baseItemDataChanged(){this.itemUpdated.emit(this.item)}descriptionChanged(){let t=this.characterSetService.toBytes(this.item.description).length<this.characterSetService.toBytes(this.itemDescription).length,a=new d.jo;if(a.key=this.item.uid+"-item-description-change",a.changeReason=this.item.name+" item description "+(t?"repointed/changed":"changed"),a.address=this.item.descriptionAddress,a.bytesToWrite=this.characterSetService.toBytes(this.itemDescription),a.bytesBefore=this.item.descriptionData.slice(0,this.characterSetService.toBytes(this.item.description).length),a.isTextUpdated=!0,t&&(a.repointAddress=this.gbaService.findFreeSpaceAddresses(this.itemDescription.length+64,1)[0],a.repointAt=[this.item.address+20],this.gbaService.pendingChanges.has(this.item.address+"-changed"))){let i=this.gbaService.pendingChanges.get(this.item.address+"-changed");new DataView(i.bytesToWrite).setUint32(20,this.gbaService.toPointer(a.repointAddress),!0),this.gbaService.pendingChanges.set(this.item.address+"-changed",i)}this.gbaService.queueChange(a)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(d.VP),e.Y36(h.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item-general-tool"]],inputs:{item:"item"},outputs:{itemUpdated:"itemUpdated"},features:[e.TTD],decls:37,vars:8,consts:[[1,"row"],[1,"col-6"],["appearance","fill",1,"w-100","mt-3"],["matInput","","placeholder","0",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","000",3,"ngModel","ngModelChange"],[1,"row","mb-3"],["matInput","","placeholder","0","maxlength","255","rows","4",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"Internal ID"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(r){return a.item.uid=r})("ngModelChange",function(){return a.baseItemDataChanged()}),e.qZA()()(),e.TgZ(6,"div",1)(7,"mat-form-field",2)(8,"mat-label"),e._uU(9,"Pocket"),e.qZA(),e.YNc(10,P,13,7,"mat-select",4),e.YNc(11,U,13,7,"mat-select",4),e.qZA()()(),e.TgZ(12,"div",0)(13,"div",1)(14,"mat-form-field",2)(15,"mat-label"),e._uU(16,"Hold Effect"),e.qZA(),e.TgZ(17,"mat-select",5),e.NdJ("ngModelChange",function(r){return a.item.holdEffect=r})("ngModelChange",function(){return a.baseItemDataChanged()}),e.YNc(18,w,2,2,"mat-option",6),e.qZA()()(),e.TgZ(19,"div",1)(20,"mat-form-field",2)(21,"mat-label"),e._uU(22,"Effect Parameter"),e.qZA(),e.TgZ(23,"input",7),e.NdJ("ngModelChange",function(r){return a.item.parameter=r})("ngModelChange",function(){return a.baseItemDataChanged()}),e.qZA()()()(),e.TgZ(24,"div",8)(25,"div",1)(26,"mat-form-field",2)(27,"mat-label"),e._uU(28,"Price"),e.qZA(),e.TgZ(29,"input",7),e.NdJ("ngModelChange",function(r){return a.item.price=r})("ngModelChange",function(){return a.baseItemDataChanged()}),e.qZA()()(),e.TgZ(30,"div",1)(31,"mat-form-field",2)(32,"mat-label"),e._uU(33,"Description"),e.qZA(),e.TgZ(34,"textarea",9),e.NdJ("ngModelChange",function(r){return a.itemDescription=r})("ngModelChange",function(){return a.descriptionChanged()}),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"12-17 characters per line recommended"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",a.item.uid),e.xp6(5),e.Q6J("ngIf",a.gameCode.startsWith("BPRE")),e.xp6(1),e.Q6J("ngIf","BPEE"===a.gameCode),e.xp6(6),e.Q6J("ngModel",a.item.holdEffect),e.xp6(1),e.Q6J("ngForOf",a.holdEffects),e.xp6(5),e.Q6J("ngModel",a.item.parameter),e.xp6(6),e.Q6J("ngModel",a.item.price),e.xp6(5),e.Q6J("ngModel",a.itemDescription))},directives:[c.KE,c.hX,q.Nt,l.Fj,l.JJ,l.On,m.O5,C.gD,_.ey,m.sg,l.nD,c.bx],styles:[""]}),n})();function O(n,o){if(1&n&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-select",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().currentItem=i})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return i.setCurrent(i.currentItem)}),e.YNc(1,O,2,2,"mat-option",13),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.currentItem),e.xp6(1),e.Q6J("ngForOf",t.itemService.items)}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e._UZ(2,"img",17),e.qZA(),e.TgZ(3,"mat-card",18)(4,"h3",19)(5,"b"),e._uU(6,"Pick a Tool"),e.qZA()(),e.TgZ(7,"mat-tab-group")(8,"mat-tab",20)(9,"app-item-general-tool",21),e.NdJ("itemUpdated",function(i){return e.CHM(t),e.oxw().updateItem(i)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("src",t.sprite,e.LSH),e.xp6(7),e.Q6J("item",t.currentItem)}}const D=[{path:"",component:(()=>{class n{constructor(t,a,i,r){this.gbaService=t,this.itemService=a,this.viewportService=i,this.characterSetService=r,this.gbaService.isLoaded()&&this.loadItems(),this.gbaService.romLoaded.subscribe(()=>{this.loadItems()})}ngOnInit(){}loadItems(){return(0,b.mG)(this,void 0,void 0,function*(){this.itemService.loadItems(),this.itemService.isLoaded=!0,this.currentItem||this.setCurrent(this.itemService.items[0])})}setCurrent(t){this.currentItem=t,this.sprite=this.itemService.loadSprite(this.currentItem.uid,!0)}updateItem(t){this.setCurrent(t),this.baseItemDataChanged()}getPaddedId(t){let a=t.toString();for(;a.length<3;)a="0"+a;return a}baseItemDataChanged(){let t=new d.jo;t.key=this.currentItem.address+"-changed",t.changeReason=this.currentItem.name+" Base Data Changed",t.address=this.currentItem.address,t.bytesBefore=this.currentItem.data;let a=new ArrayBuffer(44),i=new DataView(a),r=this.characterSetService.toBytes(this.currentItem.name);for(let u=0;u<r.length;u++)i.setUint8(u,r[u]);i.setUint8(this.characterSetService.toBytes(this.currentItem.name).length,255),i.setUint16(14,this.currentItem.uid,!0),i.setUint16(16,this.currentItem.price,!0),i.setUint8(18,this.currentItem.holdEffect),i.setUint8(19,this.currentItem.parameter);let I=this.currentItem.descriptionAddress;this.gbaService.pendingChanges.has(this.currentItem.uid+"-item-description-change")&&this.gbaService.pendingChanges.get(this.currentItem.uid+"-item-description-change").repointAddress&&(I=this.gbaService.pendingChanges.get(this.currentItem.uid+"-item-description-change").repointAddress),i.setUint32(20,this.gbaService.toPointer(I),!0),i.setUint16(24,this.currentItem.mysteryValue,!0),i.setUint8(26,this.currentItem.pocket),i.setUint8(27,this.currentItem.type),i.setUint32(28,this.gbaService.toPointer(this.currentItem.fieldUsageCodeAddress),!0),i.setUint32(32,this.currentItem.battleUsage,!0),i.setUint32(36,this.gbaService.toPointer(this.currentItem.battleUsageCodeAddress),!0),i.setUint32(40,this.currentItem.extraParameter,!0),t.bytesToWrite=new Uint8Array(a),this.gbaService.queueChange(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.VP),e.Y36(p.e),e.Y36(Z.v),e.Y36(h.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item"]],decls:16,vars:3,consts:[[1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-3"],["id","search"],[1,"mb-3","pb-0"],["for","search",1,"mb-2"],["appearance","fill",1,"w-100","pb-0"],["name","search",3,"ngModel","ngModelChange",4,"ngIf"],["id","item-card"],[3,"item"],[1,"col-md-9"],["id","editable-data",4,"ngIf"],["name","search",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","editable-data"],[1,"poke-sprite-circle-big","phone-or-bigger"],[1,"editable-background",3,"src"],[1,"mb-3"],[1,"mb-2"],["label","General"],[3,"item","itemUpdated"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"h3",5)(6,"b"),e._uU(7,"Pick an Item"),e.qZA()(),e.TgZ(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Selected Item"),e.qZA(),e.YNc(11,J,2,2,"mat-select",7),e.qZA()()(),e.TgZ(12,"div",8),e._UZ(13,"app-item-card",9),e.qZA()(),e.TgZ(14,"div",10),e.YNc(15,E,10,2,"div",11),e.qZA()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",a.itemService.items&&a.itemService.isLoaded),e.xp6(2),e.Q6J("item",a.currentItem),e.xp6(2),e.Q6J("ngIf",a.sprite))},directives:[v.a8,c.KE,c.hX,m.O5,C.gD,l.JJ,l.On,m.sg,_.ey,A,T.SP,T.uX,x],styles:[""]}),n})()}];let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(D)],g.Bz]}),n})();var H=s(4202);let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,l.u5,H.q,B]]}),n})()}}]);